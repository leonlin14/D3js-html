<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <title>Document</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.min.js"></script>
</head>
<body>

  <script>
    var dataset = [40, 20, 35, 10, 60, 110, 400];
    
    var width = 500;
    var height = 500;

    var widthScale = d3.scale.linear()
                      .domain([0, 400])
                      .range([0, width]);

    var color = d3.scale.linear()
                      .domain([0, 400])
                      .range(["yellow", "green"]);

    var canvas = d3.select("body")
                  .append("svg")
                  .attr("width", width)
                  .attr("height", height);

    var bars = canvas.selectAll("rect")
                .data(dataset)
                .enter()  // loop
                  .append("rect")
                  .attr("width", function(value) {
                    return value;
                  })
                  .attr("height", 30)
                  .attr("fill", function (value) {
                    return color(value);
                  })
                  .attr("y", function (value, index) {
                    return index * 50;
                  });
  </script>
</body>
</html>